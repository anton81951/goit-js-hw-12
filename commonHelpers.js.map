{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nfunction displayImages(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n\n    images.forEach(image => {\n        const listItem = document.createElement('li');\n        listItem.classList.add('galleryItem');\n\n        const link = document.createElement('a');\n        link.href = image.largeImageURL;\n        link.setAttribute('data-lightbox', 'gallery');\n\n        const img = document.createElement('img');\n        img.classList.add('smallImage');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n\n        link.appendChild(img);\n        listItem.appendChild(link);\n\n        const statsContainer = document.createElement('div');\n        statsContainer.classList.add('statsContainer');\n\n        const statsColumns = ['Likes', 'Views', 'Comments', 'Downloads'];\n        statsColumns.forEach(column => {\n            const statsColumn = document.createElement('div');\n            statsColumn.classList.add('statsColumn');\n\n            const statsLabel = document.createElement('div');\n            statsLabel.classList.add('stats');\n            statsLabel.textContent = column;\n\n            const statsValue = document.createElement('div');\n            statsValue.classList.add(`${column.toLowerCase()}Number`, 'statsvalue');\n            statsValue.textContent = image[column.toLowerCase()];\n\n            statsColumn.appendChild(statsLabel);\n            statsColumn.appendChild(statsValue);\n\n            statsContainer.appendChild(statsColumn);\n        });\n\n        listItem.appendChild(statsContainer);\n        gallery.appendChild(listItem);\n    });\n\n    // Initialize lightbox after rendering images\n    const lightbox = new SimpleLightbox('.gallery a');\n\n    const closeModal = () => {\n        lightbox.close();\n    };\n\n    document.querySelector('.gallery').addEventListener('click', closeModal);\n\n    const refreshLightbox = () => {\n        lightbox.refresh();\n    };\n\n    refreshLightbox();\n}\n\nexport { displayImages };\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { displayImages } from \"./render-functions\";\n\ndocument.querySelector(\".form\").addEventListener(\"submit\", event => {\n  event?.preventDefault();\n  pixabaySearch(event);\n});\n\nlet errorMessageShown = false;\n\nfunction pixabaySearch(event) {\n  const form = document.querySelector('.form');\n  const input = document.querySelector('.input');\n  const gallery = document.querySelector('.gallery');\n\n  const searchInput = input.value.trim();\n\n  if (searchInput !== \"\") {\n    const apiKey = '9233093-942588744ee96c4f575017f3e';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchInput}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        if (data.hits.length === 0) {\n          if (!errorMessageShown) {\n            iziToast.error({\n              title: 'Error',\n              message: \"Sorry, there are no images matching your search query. Please try again!\",\n              position: 'topCenter'\n            });\n            errorMessageShown = true;\n          }\n        } else {\n          displayImages(data.hits);\n        }\n      })\n      .catch(error => {\n        console.error('fetch problem', error);\n      });\n  } else {\n    iziToast.error({\n      title: 'Error',\n      message: \"Empty input!\",\n      position: 'topCenter'\n    });\n  }\n}\n\nexport { pixabaySearch };\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { displayImages } from \"./js/render-functions\";\nimport { pixabaySearch } from \"./js/pixabay-api\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.createElement('div');\nloader.style.display = 'none';\n\ndocument.body.appendChild(loader);\n\ndocument.querySelector(\".form\").addEventListener(\"submit\", () => {\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n    \n    pixabaySearch()?.then(() => {\n        loader.style.display = 'none';\n    }).catch(error => {\n        loader.style.display = 'none';\n        console.error('loader problem', error);\n    });\n});\n\n"],"names":["displayImages","images","gallery","image","listItem","link","img","statsContainer","column","statsColumn","statsLabel","statsValue","lightbox","SimpleLightbox","closeModal","event","pixabaySearch","errorMessageShown","input","searchInput","url","response","data","iziToast","error","loader","_a"],"mappings":"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"}